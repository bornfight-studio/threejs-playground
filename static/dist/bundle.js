/*! For license information please see bundle.js.LICENSE.txt */
!function(){"use strict";var t,e={375:function(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DOM={grid:"grid"},this.gridOptions={initialDisplay:"none",columnCount:24,gridWidth:1440,gridFixed:!0,gutterWidth:0,gutterFixed:!1,gridColor:"rgb(255, 0, 255, 0.15)",columnBgColor:"rgb(255, 0, 255, 0.025)"};["background-color: #a6a6a6","color: black","display: block","line-height: 24px","text-align: center","border: 1px solid #ffffff","font-weight: bold"].join(";");this.grid=null,this.columnWidth=(this.gridOptions.gridWidth-(this.gridOptions.columnCount-1)*this.gridOptions.gutterWidth)/this.gridOptions.columnCount,this.columnWidthPercentage="".concat(this.columnWidth/this.gridOptions.gridWidth*100,"%"),this.gutterWidthPercentage="".concat(this.gridOptions.gutterWidth/this.gridOptions.gridWidth*100,"%")}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.initGrid(),this.keyboardShortcut()}},{key:"initGrid",value:function(){this.grid=document.createElement("div"),this.grid.id=this.DOM.grid,this.grid.style.cssText="\n            pointer-events: none;\n            display: ".concat(this.gridOptions.initialDisplay,";\n            flex-direction: row;\n            width: 100%;\n            height: 100%;\n            position: fixed;\n            top: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            z-index: 999;\n        "),!0===this.gridOptions.gridFixed&&(this.grid.style.maxWidth="".concat(this.gridOptions.gridWidth,"px")),!this.gridOptions.gutterWidth>0&&(this.grid.style.borderLeft="none"),document.body.appendChild(this.grid);for(var t=0;t<this.gridOptions.columnCount;t++){var e=document.createElement("i");this.grid.appendChild(e),e.style.cssText="\n                height: auto;\n                flex-grow: 1;\n                background-color: ".concat(this.gridOptions.columnBgColor,";\n                border-left: 1px solid ").concat(this.gridOptions.gridColor,";\n            "),this.gridOptions.gutterWidth>0?e.style.borderRight="1px solid ".concat(this.gridOptions.gridColor):this.grid.style.borderRight="1px solid ".concat(this.gridOptions.gridColor),!0===this.gridOptions.gutterFixed?e.style.marginRight="".concat(this.gridOptions.gutterWidth,"px"):(e.style.marginRight=this.gutterWidthPercentage,e.style.width=this.columnWidthPercentage)}this.grid.lastChild.style.marginRight=0}},{key:"keyboardShortcut",value:function(){var t=this;document.addEventListener("keyup",(function(e){71===e.keyCode&&e.altKey&&("none"===t.grid.style.display?t.grid.style.display="flex":t.grid.style.display="none")}))}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),a=n(477),s=n(365),l=n(867),c=n(854),u=n(516),h=n(659),d=JSON.parse('{"mat1":{"base":"../static/models/titan-135/base.jpg","height":"../static/models/titan-135/height.jpg","ao":"../static/models/titan-135/ao.jpg","rough":"../static/models/titan-135/rough.jpg","norm":"../static/models/titan-135/norm.jpg"},"mat2":{"base":"../static/models/titan-108/base.jpg","height":"../static/models/titan-108/height.jpg","ao":"../static/models/titan-108/ao.jpg","rough":"../static/models/titan-108/rough.jpg","norm":"../static/models/titan-108/norm.jpg"},"mat3":{"base":"../static/models/titan-109/base.jpg","height":"../static/models/titan-109/height.jpg","ao":"../static/models/titan-109/ao.jpg","rough":"../static/models/titan-109/rough.jpg","norm":"../static/models/titan-109/norm.jpg"},"mat4":{"base":"../static/models/titan-113/base.jpg","height":"../static/models/titan-113/height.jpg","ao":"../static/models/titan-113/ao.jpg","rough":"../static/models/titan-113/rough.jpg","norm":"../static/models/titan-113/norm.jpg"},"mat5":{"base":"../static/models/titan-112/base.jpg","height":"../static/models/titan-112/height.jpg","ao":"../static/models/titan-112/ao.jpg","rough":"../static/models/titan-112/rough.jpg","norm":"../static/models/titan-112/norm.jpg"},"mat6":{"base":"../static/models/stanlio-135/base.jpg","metal":"../static/models/stanlio-135/metal.jpg","ao":"../static/models/stanlio-135/ao.jpg","rough":"../static/models/stanlio-135/rough.jpg","norm":"../static/models/stanlio-135/norm.jpg"},"mat7":{"base":"../static/models/stanlio-119/base.jpg","height":"../static/models/stanlio-119/height.jpg","ao":"../static/models/stanlio-119/ao.jpg","rough":"../static/models/stanlio-119/rough.jpg","norm":"../static/models/stanlio-119/norm.jpg"},"mat8":{"base":"../static/models/mist-135/base.jpg","metal":"../static/models/mist-135/metal.jpg","ao":"../static/models/mist-135/ao.jpg","rough":"../static/models/mist-135/rough.jpg","norm":"../static/models/mist-135/norm.jpg"},"mat9":{"base":"../static/models/olio-135/base.jpg","ao":"../static/models/olio-135/ao.jpg","rough":"../static/models/olio-135/rough.jpg","norm":"../static/models/olio-135/norm.jpg","metal":"../static/models/olio-135/metal.jpg"}}');function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===p(i)?i:String(i)),r)}var o,i}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DOM={modelContainer:".js-furniture-configurator",option:".js-furniture-configurator-option",states:{isActive:"is-active"}},this.modelContainer=document.querySelector(this.DOM.modelContainer),this.options=document.querySelectorAll(this.DOM.option)}var e,n,r;return e=t,n=[{key:"init",value:function(){null!==this.modelContainer&&(this.width=window.innerWidth,this.height=window.innerHeight,a.CtF.enabled=!0,this.texture=new a.dpR,this.environment=!1,this.lightHelpers=!1,this.modelObjects=JSON.parse(this.modelContainer.dataset.modelObjects),this.whiteEnv="true"===this.modelContainer.dataset.envWhite,this.gui=new h.XS,this.gui.name="Scene option",this.gui.close(),this.gui.$title.innerText="Options",this.guiConf={Rotate:!1,Grid:!0},this.initModel(),this.addLights(),this.addEnvironmentLight(),this.animate())}},{key:"initModel",value:function(){var t=this;if(this.camera=new a.cPb(45,this.width/this.height,.001,10),this.camera.position.set(-.5,.2,-.5),this.scene=new a.xsS,this.scene.background=new a.Ilk(12303291),this.renderer=new a.CP7({antialias:!0,powerPreference:"high-performance",stencil:!1}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.shadowMap.enabled=!0,this.renderer.gammaFactor=5,this.renderer.outputColorSpace="srgb-linear",this.renderer.useLegacyLights=!1,this.renderer.shadowMap.type=a.ntZ,this.renderer.toneMapping=a.EoG,this.renderer.toneMappingExposure=1,this.modelContainer.appendChild(this.renderer.domElement),this.environment){var e=new u.C;this.pmremGenerator=new a.anP(this.renderer),this.scene.environment=this.pmremGenerator.fromScene(e).texture}this.loadModel(),this.controls=new s.z(this.camera,this.renderer.domElement),this.controls.target.set(0,0,0),this.controls.Rotate=this.guiConf.Rotate,this.controls.autoRotateSpeed=1,this.controls.enableDamping=!0,this.controls.minDistance=0,this.controls.maxDistance=5,this.controls.maxPolarAngle=Math.PI/2.2,this.controls.minPolarAngle=.7,this.controls.maxAzimuthAngle=-1.2,this.controls.minAzimuthAngle=3.2,this.controls.update(),this.gui.add(this.guiConf,"Rotate").onChange((function(e){t.controls.autoRotate=!1!==e})),window.addEventListener("resize",(function(){return t.onWindowResize()}),!1)}},{key:"loadModel",value:function(){var t=this,e={},n=this.modelContainer.dataset.materialScale;for(var r in d){var o=d[r];e[r]={};var i=d[r];for(var s in o)e[r][s]=this.texture.load(i[s])}var u=new a.EJi({map:e.mat1.base,aoMap:e.mat1.ao,aoMapIntensity:0,displacementMap:e.mat1.height,displacementScale:0,roughnessMap:e.mat1.rough,metalness:.15,clearcoat:0,flatShading:!1});u.map.minFilter=a.TyD,u.map.generateMipmaps=!0,u.map.wrapT=a.rpg,u.map.wrapS=a.rpg,u.aoMap.wrapT=a.rpg,u.aoMap.wrapS=a.rpg,u.displacementMap.wrapT=a.rpg,u.displacementMap.wrapS=a.rpg,u.roughnessMap.wrapT=a.rpg,u.roughnessMap.wrapS=a.rpg,u.map.repeat.set(n,n),u.aoMap.repeat.set(n,n),u.displacementMap.repeat.set(n,n),u.roughnessMap.repeat.set(n,n);var h=this.modelContainer.getAttribute("data-model-source"),p=new l.E,f=new c._;f.setDecoderPath("../static/js/vendors/draco/"),p.setDRACOLoader(f),p.load(h,(function(r){u.color.convertSRGBToLinear();var o=[];t.modelObjects.forEach((function(t){o.push(r.scene.getObjectByName(t))})),r.scene.getObjectByName("pillow_left")&&(r.scene.getObjectByName("pillow_left").castShadow=!0,r.scene.getObjectByName("pillow_left").recieveShadow=!0),r.scene.getObjectByName("pillow_center")&&(r.scene.getObjectByName("pillow_center").castShadow=!0,r.scene.getObjectByName("pillow_center").recieveShadow=!0),r.scene.getObjectByName("pillow_right")&&(r.scene.getObjectByName("pillow_right").castShadow=!0,r.scene.getObjectByName("pillow_right").recieveShadow=!0),o.forEach((function(e){e.castShadow=!0,e.receiveShadow=!0,e.material.color.convertSRGBToLinear(),e.material=u,t.whiteEnv||(e.material.metalness=.65)})),t.scene.add(r.scene),t.options.forEach((function(r,o){var i=parseFloat(r.dataset.additionalScale)||1;r.addEventListener("click",(function(r){!function(e,n){var r=n.target;e.forEach((function(e){e===r?e.classList.add(t.DOM.states.isActive):e.classList.remove(t.DOM.states.isActive)}))}(t.options,r),t.transformMaterial(o+1,u,e,n,i)}))}))})),this.loadEnv(p)}},{key:"loadEnv",value:function(t){}},{key:"addLights",value:function(){var t=new a.Ox3(15987699,1);t.position.set(.4,.9,.7),t.shadow.camera.left=-1.5,t.shadow.camera.right=1.5,t.shadow.camera.top=1.5,t.shadow.camera.bottom=-1.5;var e=new a.cBI(t,2);t.castShadow=!0,this.scene.add(t);var n=new a.Ox3(15987699,2);n.position.set(-.4,1,-.8);var r=new a.cBI(n,2);this.scene.add(n);var o=new a.cek(15987699,3),i=new a.xG9(o,3);o.position.set(0,.75,.9),o.castShadow=!0,this.whiteEnv||this.scene.add(o);var s=new a.Mig(15987699,2);this.whiteEnv||this.scene.add(s),this.lightHelpers&&(this.scene.add(e),this.scene.add(r),this.scene.add(i))}},{key:"addEnvironmentLight",value:function(){var t=new a.Mig(8421504,6);this.scene.add(t)}},{key:"addFloor",value:function(){var t=new a._12(120,120),e=new a.Wid({color:10132636}),n=new a.Kj0(t,e);n.rotation.x=-Math.PI/2,n.position.y=.46,n.receiveShadow=!0,this.scene.add(n)}},{key:"transformMaterial",value:function(t,e,n,r){var o=r*(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1),i=n["mat".concat(t)];i.base.minFilter=a.TyD,i.base.generateMipmaps=!1,e.map=i.base,e.aoMap=i.ao,e.normalMap=i.norm,e.roughnessMap=i.rough,e.map.wrapS=e.map.wrapT=a.rpg,e.aoMap.wrapS=e.aoMap.wrapT=a.rpg,e.displacementMap.wrapS=e.displacementMap.wrapT=a.rpg,e.normalMap.wrapS=e.normalMap.wrapT=a.rpg,e.roughnessMap.wrapS=e.roughnessMap.wrapT=a.rpg,e.map.repeat.set(o,o),e.aoMap.repeat.set(o,o),e.displacementMap.repeat.set(o,o),e.normalMap.repeat.set(o,o),e.roughnessMap.repeat.set(o,o)}},{key:"onWindowResize",value:function(){this.camera.aspect=this.width/this.height,this.renderer.setSize(this.width,this.height)}},{key:"animate",value:function(){var t=this;requestAnimationFrame((function(){return t.animate()})),this.renderer.render(this.scene,this.camera),this.controls.update()}}],n&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),g=n(358);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===v(i)?i:String(i)),r)}var o,i}var w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DOM={modelContainer:".js-fabric-viewer"}}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.modelContainer=document.querySelector(this.DOM.modelContainer),null!==this.modelContainer&&(this.width=window.innerWidth,this.height=window.innerHeight,a.CtF.enabled=!0,this.texture=new a.dpR,this.gui=new h.XS({name:"Fabric viewer"}),this.guiConf={autoRotation:{autoRotate:!0},grid:{showGrid:!0},sphere:{rotate:!0}},this.initModel(),this.addLights(),this.addEnvironmentLight(),this.addFloor(),this.animate())}},{key:"initModel",value:function(){var t=this;this.camera=new a.cPb(40,this.width/this.height,1,40),this.camera.position.set(0,5,15),this.scene=new a.xsS,this.scene.background=new a.Ilk(12303291);var e=new a.VLJ(2e3,40,0,0);e.material.opacity=.1,e.material.transparent=!0,this.scene.add(e),this.guiConf.grid.showGrid||(e.visible=!1),this.gui.add(this.guiConf.grid,"showGrid").onChange((function(t){e.visible=!!t})),this.renderer=new a.CP7({antialias:!0,powerPreference:"high-performance"}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.shadowMap.enabled=!0,this.renderer.gammaFactor=2,this.renderer.outputColorSpace="srgb-linear",this.renderer.useLegacyLights=!1,this.renderer.shadowMap.type=a._iA,this.renderer.toneMapping=a.LY2,this.renderer.toneMappingExposure=1,this.modelContainer.appendChild(this.renderer.domElement),this.loadSphere(),this.controls=new s.z(this.camera,this.renderer.domElement),this.controls.target.set(0,1,0),this.controls.autoRotate=this.guiConf.autoRotation.autoRotate,this.controls.autoRotateSpeed=1,this.controls.enableDamping=!0,this.controls.minDistance=4,this.controls.maxDistance=30,this.controls.maxPolarAngle=Math.PI/2,this.controls.minPolarAngle=0,this.controls.update(),this.gui.add(this.guiConf.autoRotation,"autoRotate").onChange((function(e){t.controls.autoRotate=!1!==e})),window.addEventListener("resize",(function(){return t.onWindowResize()}),!1)}},{key:"addLights",value:function(){var t=new a.Ox3(15790320,1);t.position.set(0,6,3),new a.cBI(t,1),t.castShadow=!0,this.scene.add(t);var e=new a.Ox3(15790320,2);e.position.set(0,3,8),new a.cBI(e,2),e.castShadow=!0,this.scene.add(e);var n=new a.cek(16777215,3);new a.xG9(n,2),n.position.set(0,12,0),n.castShadow=!0,this.scene.add(n)}},{key:"addEnvironmentLight",value:function(){var t=new a.Mig(8421504,4);this.scene.add(t)}},{key:"addFloor",value:function(){var t=new a._12(40,40),e=new a.Wid({color:16711422}),n=new a.Kj0(t,e);n.rotation.x=-Math.PI/2,n.receiveShadow=!0,this.scene.add(n)}},{key:"loadSphere",value:function(){var t=this,e=1.15,n={mat:{base:this.texture.load("../static/models/mat1/base.jpg"),height:this.texture.load("../static/models/mat1/height.jpg"),ao:this.texture.load("../static/models/mat1/ao.jpg"),norm:this.texture.load("../static/models/mat1/norm.jpg"),rough:this.texture.load("../static/models/mat1/rough.jpg")}},r=new a.EJi({map:n.mat.base,aoMap:n.mat.ao,aoMapIntensity:.5,normalMap:n.mat.norm,displacementMap:n.mat.height,displacementScale:0,roughnessMap:n.mat.rough,metalness:.15,flatShading:!1,roughness:.85,sheen:new a.Ilk(65280)});r.map.generateMipmaps=!1,r.map.wrapS=r.map.wrapT=a.rpg,r.aoMap.wrapS=r.aoMap.wrapT=a.rpg,r.displacementMap.wrapS=r.displacementMap.wrapT=a.rpg,r.normalMap.wrapS=r.normalMap.wrapT=a.rpg,r.roughnessMap.wrapS=r.roughnessMap.wrapT=a.rpg,r.map.repeat.set(e,e),r.aoMap.repeat.set(e,e),r.displacementMap.repeat.set(e,e),r.normalMap.repeat.set(e,e),r.roughnessMap.repeat.set(e,e),this.gui.add(r,"roughness",0,1),setTimeout((function(){t.sphere(r)}),500)}},{key:"sphere",value:function(t){var e=new a.xo$(2.5,400,400),n=new a.Kj0(e,t);n.position.set(0,2.5,0),n.castShadow=!0,n.receiveShadow=!0,n.rotation.y=1.25*Math.PI,this.scene.add(n),g.ZP.to(n.rotation,{duration:40,ease:"none",y:2*Math.PI,repeat:-1})}},{key:"transformMaterial",value:function(t,e,n,r){var o=null;(o=2===t?n.mat2:3===t?n.mat3:n.mat1).base.minFilter=a.TyD,o.base.generateMipmaps=!1,e.map=o.base,e.aoMap=o.ao,e.normalMap=o.norm,e.roughnessMap=o.rough,e.map.wrapS=e.map.wrapT=a.rpg,e.aoMap.wrapS=e.aoMap.wrapT=a.rpg,e.displacementMap.wrapS=e.displacementMap.wrapT=a.rpg,e.normalMap.wrapS=e.normalMap.wrapT=a.rpg,e.roughnessMap.wrapS=e.roughnessMap.wrapT=a.rpg,e.map.repeat.set(r,r),e.aoMap.repeat.set(r,r),e.displacementMap.repeat.set(r,r),e.normalMap.repeat.set(r,r),e.roughnessMap.repeat.set(r,r)}},{key:"onWindowResize",value:function(){this.camera.aspect=this.width/this.height,this.renderer.setSize(this.width,this.height)}},{key:"animate",value:function(){var t=this;requestAnimationFrame((function(){return t.animate()})),this.renderer.render(this.scene,this.camera),this.controls.update()}}])&&y(e.prototype,n),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===b(i)?i:String(i)),r)}var o,i}var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DOM={modelViewer:"model-viewer#sofa",control:".js-model-viewer-control"},this.modelViewer=document.querySelector(this.DOM.modelViewer),this.controls=document.querySelectorAll(this.DOM.control)}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;null!==this.modelViewer&&this.modelViewer.addEventListener("load",(function(){var e=t.modelViewer.model;e.materials,t.controls.forEach((function(t){t.addEventListener("click",(function(t){var n=t.currentTarget.dataset.color;S(e.materials,1)[0].pbrMetallicRoughness.setBaseColorFactor(n)}))}))}))}}])&&O(e.prototype,n),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),x=n(92),E=n(568);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function k(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C(){C=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:S(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(E([])));v&&v!==e&&n.call(v,i)&&(m=v);var y=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==L(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function S(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),l(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(y),l(y,s,"Generator"),l(y,i,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function T(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===L(i)?i:String(i)),r)}var o,i}g.ZP.registerPlugin(x.i);var D=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.defaults=Object.assign({},{elementClass:"",modelUrl:"",hideRoom:!1,modelObjects:[],roomObjects:[],textureScale:1,textureAppearanceSets:{},mouseAnimation:!1,onLoad:function(){},onProgress:function(){}},e),this.onLoad=this.defaults.onLoad,this.onProgress=this.defaults.onProgress,this.element=document.querySelector(this.defaults.elementClass),this.element&&(this.elementDimensions={width:this.element.offsetWidth,height:this.element.offsetHeight,widthHalf:this.element.offsetWidth/2,heightHalf:this.element.offsetHeight/2},this.lights={neutral:null,warm:null,cold:null},this.roomShown=!this.defaults.hideRoom,this.lights=[],this.textureAppearanceSets=this.defaults.textureAppearanceSets,this.prevTextureAppearanceSet=null,history.scrollRestoration&&(history.scrollRestoration="manual"),this.init())}var e,n,r;return e=t,n=[{key:"init",value:function(){var t=this,e=this;function n(){var t;return t=C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.viewer=new E.oMA({canvas:e.element,useRgbm:!0}),t.next=3,e.viewer.addPlugin(E.ksm);case 3:return e.manager=t.sent,e.importer=e.manager.importer,t.next=7,(0,E.Bve)(e.viewer);case 7:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){T(i,r,o,a,s,"next",t)}function s(t){T(i,r,o,a,s,"throw",t)}a(void 0)}))},n.apply(this,arguments)}(function(){return n.apply(this,arguments)})().then((function(e){t.manager.addFromPath(t.defaults.modelUrl).then((function(t){})),t.importer.addEventListener("onProgress",(function(e){t.onProgress(e.loaded/e.total*100)})),t.importer.addEventListener("onLoad",(function(e){setTimeout((function(){t.afterInit()}),100),setTimeout((function(){t.onLoad(),t.roomShown||t.hideRoom()}),200)}))}))}},{key:"afterInit",value:function(){var t=this,e=this.viewer.scene.activeCamera,n=e.controls;n.minDistance=.25,n.maxDistance=1.8,n.minZoom=0,n.maxZoom=0,n.minPolarAngle=.9,n.maxPolarAngle=1.6,n.minAzimuthAngle=3.2,n.maxAzimuthAngle=-1.2,e.cameraObject.userData.autoNearFar=!1,this.texture=new a.dpR,this.modelObjects=this.defaults.modelObjects,this.roomObjects=this.defaults.roomObjects;var r=this.viewer.scene.children[0].children[0].getObjectByName("Spot");if(r&&(r.intensity=.5),this.addLights(),r&&this.defaults.mouseAnimation){var o={positionX:r.position.x,positionY:r.position.y,positionZ:r.position.z},i={x:0,y:0};this.element.addEventListener("mousemove",(function(n){i.x=5e-5*(t.elementDimensions.widthHalf-n.clientX),i.y=5e-5*(t.elementDimensions.heightHalf-n.clientY),g.ZP.to(r.position,{x:o.positionX-i.x,y:o.positionY+i.y,duration:1,onUpdate:function(){var t,n;null===(t=r.setDirty)||void 0===t||t.call(r,"position"),null===(n=e.setDirty)||void 0===n||n.call(e)}})}))}this.controller()}},{key:"addLights",value:function(){var t=new a.Ox3(15790320,1);t.position.set(0,6,3);var e=new a.Ox3(15790320,.2);e.position.set(-1,3,-3);var n=new a.cek(15790320,.2);n.position.set(-5,3,0);var r=new a.Mig(8421504,.3);this.lights.push(t),this.lights.push(e),this.lights.push(n),this.lights.push(r),this.viewer.scene.add(t),this.viewer.scene.add(e),this.viewer.scene.add(n),this.viewer.scene.add(r)}},{key:"setEnvLight",value:function(t){var e=15790320;"warm"===t&&(e=15790304),this.lights.forEach((function(t){var n;t.color.set(e),null===(n=t.setDirty)||void 0===n||n.call(t)}))}},{key:"controller",value:function(){var t=this;this.material={},this.objects=this.modelObjects.reduce((function(e,n){return[].concat(k(e),[t.viewer.scene.getObjectByName(n)])}),[]),this.roomObjects&&this.roomObjects.length>0&&(this.roomObjects=this.roomObjects.reduce((function(e,n){return[].concat(k(e),[t.viewer.scene.getObjectByName(n)])}),[]))}},{key:"setModelTexture",value:function(t,e,n,r){var o=this,i=new Date;this.element.classList.add("is-loading"),e&&!isNaN(e)||(e=1);var s=this.defaults.textureScale*e,l=this.prevTextureAppearanceSet!==r,c={},u=Object.keys(this.textureAppearanceSets[r]).length,h=0;if(0!==u&&(l?u++:u=1,c.base=this.texture.load(n,(function(t){h++,t.colorSpace=a.KI_,c.base.minFilter=a.TyD,c.base.generateMipmaps=!1,o.objects.forEach((function(t){var e;t.isMesh&&(t.material.map=c.base,t.material.map.wrapS=t.material.map.wrapT=a.rpg,t.material.map.repeat.set(s,s),null===(e=t.setDirty)||void 0===e||e.call(t))})),h===u&&o.afterTextureLoad(i,500)})),this.material.aoMap=null,this.material.roughnessMap=null,this.material.normalMap=null,this.material.metalnessMap=null,this.material.heightMap=null,l))for(var d in this.prevTextureAppearanceSet=r,this.textureAppearanceSets[r])c[d]=this.texture.load(this.textureAppearanceSets[r][d],(function(t){++h===u&&(o.objects.forEach((function(t){var e;t.isMesh&&(o.tweakAppearanceSet(c,s,t),null===(e=t.setDirty)||void 0===e||e.call(t))})),o.afterTextureLoad(i,500))}))}},{key:"tweakAppearanceSet",value:function(t,e,n){n.material.aoMap=t.ao,n.material.normalMap=t.norm,n.material.heightMap=t.height||null,n.material.metalnessMap=t.metal||null,n.material.roughnessMap=t.rough,n.material.aoMap.wrapS=n.material.aoMap.wrapT=a.rpg,n.material.roughnessMap.wrapS=n.material.roughnessMap.wrapT=a.rpg,n.material.displacementMap&&(n.material.displacementMap.wrapS=n.material.displacementMap.wrapT=a.rpg),n.material.normalMap&&(n.material.normalMap.wrapS=n.material.normalMap.wrapT=a.rpg),n.material.metalnessMap&&(n.material.metalnessMap.wrapS=n.material.metalnessMap.wrapT=a.rpg),n.material.heightMap&&(n.material.heightMap.wrapS=n.material.heightMap.wrapT=a.rpg),n.material.aoMap.repeat.set(e,e),n.material.roughnessMap.repeat.set(e,e),n.material.displacementMap&&n.material.displacementMap.repeat.set(e,e),n.material.normalMap&&n.material.normalMap.repeat.set(e,e),n.material.metalnessMap&&n.material.metalnessMap.repeat.set(e,e),n.material.heightMap&&n.material.heightMap.repeat.set(e,e)}},{key:"afterTextureLoad",value:function(t,e){var n=this,r=new Date-t;r<e?setTimeout((function(){n.element.classList.remove("is-loading")}),e-r):this.element.classList.remove("is-loading")}},{key:"toggleRoom",value:function(){if(this.roomShown)return this.roomShown=!1,void this.hideRoom();this.roomShown=!0,this.showRoom()}},{key:"hideRoom",value:function(){this.roomObjects.forEach((function(t){var e;t.visible=!1,null===(e=t.setDirty)||void 0===e||e.call(t)}))}},{key:"showRoom",value:function(){this.roomObjects.forEach((function(t){var e;t.visible=!0,null===(e=t.setDirty)||void 0===e||e.call(t)}))}}],n&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===R(i)?i:String(i)),r)}var o,i}var N=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DOM={canvas:".js-configurator-viewer",roomToggle:".js-configurator-viewer-toggle-room",textureOptions:".js-furniture-configurator-option",envLightOptions:".js-furniture-configurator-light-option",states:{isActive:"is-active"}},this.modelConfigurator=new D({elementClass:this.DOM.canvas,hideRoom:!0,textureScale:1,modelUrl:"../static/models/pixotronics-v4.glb",modelObjects:["headrest_left","headrest_right","seat","seat_left","seat_right"],roomObjects:["tree","wall_back","wall_right","Spot","floor"],textureAppearanceSets:window.textureAppearance,mouseAnimation:!1,onLoad:function(){e.init()},onProgress:function(t){}}),this.envLightOptions=document.querySelectorAll(this.DOM.envLightOptions),this.textureOptions=document.querySelectorAll(this.DOM.textureOptions),this.roomToggle=document.querySelector(this.DOM.roomToggle)}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.envLightOptions&&this.envLightOptions.length>0&&this.envLightController(),this.textureOptions&&this.textureOptions.length>0&&this.textureController(),this.roomToggle&&this.roomToggleController()}},{key:"envLightController",value:function(){var t=this;this.envLightOptions.forEach((function(e){var n=e.dataset.light||"neutral";e.addEventListener("click",(function(e){t.setActiveClass(e,t.envLightOptions),t.modelConfigurator.setEnvLight(n)}))}))}},{key:"textureController",value:function(){var t=this;this.textureOptions.forEach((function(e,n){var r=parseFloat(e.dataset.additionalScale),o=e.dataset.textureBase,i=e.dataset.textureAppearanceSet;o&&i&&e.addEventListener("click",(function(e){t.setActiveClass(e,t.textureOptions),t.modelConfigurator.setModelTexture(n+1,r,o,i)}))}));var e=this.textureOptions[0].dataset.textureBase||null,n=this.textureOptions[0].dataset.textureAppearanceSet;if(e&&n){var r=parseFloat(this.textureOptions[0].dataset.additionalScale);this.modelConfigurator.setModelTexture(1,r,e,n)}}},{key:"setActiveClass",value:function(t,e){var n=this,r=t.currentTarget;e.forEach((function(t){t===r?t.classList.add(n.DOM.states.isActive):t.classList.remove(n.DOM.states.isActive)}))}},{key:"roomToggleController",value:function(){var t=this;this.roomToggle.addEventListener("click",(function(e){t.modelConfigurator.toggleRoom()}))}}])&&_(e.prototype,n),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function I(){I=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),s=new x(o||[]);return r(a,"_invoke",{value:S(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(E([])));v&&v!==e&&n.call(v,i)&&(m=v);var y=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function o(r,i,a,s){var l=u(t[r],t,i);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==F(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return o("throw",t,a,s)}))}s(l.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function S(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=j(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,r(y,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:p,configurable:!0}),p.displayName=l(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},w(b.prototype),l(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(y),l(y,s,"Generator"),l(y,i,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function W(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===F(i)?i:String(i)),r)}var o,i}var B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.defaults=Object.assign({},{elementClass:"",modelUrl:"",envUrl:"",mouseAnimation:!1,onLoad:function(){},onProgress:function(){}},e),this.onLoad=this.defaults.onLoad,this.onProgress=this.defaults.onProgress,this.element=document.querySelector(this.defaults.elementClass),this.element&&(history.scrollRestoration&&(history.scrollRestoration="manual"),this.init())}var e,n,r;return e=t,n=[{key:"init",value:function(){var t=this,e=this;function n(){var t;return t=I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.viewer=new E.oMA({canvas:e.element,useRgbm:!0}),t.next=3,e.viewer.addPlugin(E.ksm);case 3:return e.manager=t.sent,e.importer=e.manager.importer,t.next=7,(0,E.Bve)(e.viewer);case 7:e.viewer.scene.activeCamera;case 8:case"end":return t.stop()}}),t)})),n=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){W(i,r,o,a,s,"next",t)}function s(t){W(i,r,o,a,s,"throw",t)}a(void 0)}))},n.apply(this,arguments)}(function(){return n.apply(this,arguments)})().then((function(e){t.manager.addFromPath(t.defaults.modelUrl).then((function(t){})),t.importer.addEventListener("onProgress",(function(e){t.onProgress(e.loaded/e.total*100)})),t.importer.addEventListener("onLoad",(function(e){setTimeout((function(){t.afterInit()}),100),setTimeout((function(){t.onLoad()}),200)}))}))}},{key:"afterInit",value:function(){var t=this.viewer.scene.activeCamera.controls;t.minDistance=2.5,t.maxDistance=20,t.minZoom=0,t.maxZoom=0,t.minPolarAngle=.3,t.maxPolarAngle=1.6}},{key:"setModelColor",value:function(t,e,n){var r=this;JSON.parse(n).forEach((function(t){r.viewer.scene.traverse((function(n){var r;n.isMesh&&n.name===t&&(n.material.color.set(e),null===(r=n.setDirty)||void 0===r||r.call(n))}))}))}},{key:"setCameraPosition",value:function(t){var e=this.viewer.scene.activeCamera,n={x:e.position.x,y:e.position.y,z:e.position.z};g.ZP.to(n,{x:t.x,y:t.y,z:t.z,ease:"expo.inOut",duration:1.2,onStart:function(){e.setCameraOptions({controlsEnabled:!1})},onComplete:function(){e.setCameraOptions({controlsEnabled:!0})},onUpdate:function(){e.position.set(n.x,n.y,n.z),e.positionTargetUpdated()}})}}],n&&q(e.prototype,n),r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==G(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===G(i)?i:String(i)),r)}var o,i}var Z=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DOM={canvas:".js-ring-configurator-viewer",options:".js-ring-configurator-options",colors:".js-ring-configurator-colors",colorOption:".js-ring-configurator-color",screenshot:".js-ring-configurator-screenshot",scene:".js-ring-configurator-scene",states:{isActive:"is-active",isVisible:"is-visible"}},this.showConfigurator=!1,this.modelConfigurator=new B({elementClass:this.DOM.canvas,modelUrl:"../static/models/ring-v6.glb",ringOptions:window.ringOptions,mouseAnimation:!1,onLoad:function(){e.init()},onProgress:function(t){}}),this.options=document.querySelector(this.DOM.options),this.colors=document.querySelectorAll(this.DOM.colors),this.screenshot=document.querySelector(this.DOM.screenshot),this.scenes=document.querySelectorAll(this.DOM.scene)}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.colors&&this.colors.length>0&&(this.colorController(),this.keyboardShortcut(),this.takeScreenshot("ring-configurator.png"),this.sceneToggler())}},{key:"colorController",value:function(){var t=this;this.colors.forEach((function(e){var n=e.querySelectorAll(t.DOM.colorOption);n.forEach((function(e,r){var o=e.dataset.color,i=e.dataset.modelObject;o&&e.addEventListener("click",(function(e){t.setActiveClass(e,n),t.modelConfigurator.setModelColor(r+1,o,i)}))}))}))}},{key:"setActiveClass",value:function(t,e){var n=this,r=t.currentTarget;e.forEach((function(t){t===r?t.classList.add(n.DOM.states.isActive):t.classList.remove(n.DOM.states.isActive)}))}},{key:"keyboardShortcut",value:function(){var t=this;"false"===this.options.dataset.show&&this.options.remove(),document.addEventListener("keyup",(function(e){79===e.keyCode&&e.altKey&&(t.options.classList.contains(t.DOM.states.isVisible)?t.options.classList.remove(t.DOM.states.isVisible):t.options.classList.add(t.DOM.states.isVisible))}))}},{key:"takeScreenshot",value:function(t){var e=document.querySelector(this.DOM.canvas),n="image/png";this.screenshot.addEventListener("click",(function(){var r=e.toDataURL(n),o=document.createElement("a");o.classList.add("is-visually-hidden"),o.download=t,o.href=r,o.dataset.downloadurl=[n,o.download,o.href].join(":"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}))}},{key:"sceneToggler",value:function(){var t=this;this.scenes.forEach((function(e){e.addEventListener("click",(function(e){t.setActiveClass(e,t.scenes);var n=JSON.parse(e.currentTarget.dataset.cameraPosition);t.modelConfigurator.setCameraPosition(n)}))}))}}])&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),U=n(249);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===J(i)?i:String(i)),r)}var o,i}var K=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={sections:".js-spline-sections",canvas:".js-spline-view-model",loader:".js-spline-loader",splineCode:"https://prod.spline.design/EJkzcs8ToBJ36Mf5/scene.splinecode"}}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;if(this.canvas=document.querySelector(this.data.canvas),this.sections=document.querySelector(this.data.sections),this.loader=document.querySelector(this.data.loader),this.canvas){var e=0,n=0,r=0,o=0,i=1,a=0,s=1e3;window.addEventListener("wheel",(function(t){e+=1,t.deltaY>0?i=1:t.deltaY<0&&(i=-1)}),!1),requestAnimationFrame((function l(){e!==n&&((r+=i)<0&&(r=0),r>s&&(r=s),o!==r&&(a=r/s*100,g.ZP.to(t.sections,{yPercent:-a,duration:.3,ease:"power0.out"}),o=r)),n=e,requestAnimationFrame(l)})),new U.M(this.canvas).load(this.data.splineCode).then((function(){setTimeout((function(){g.ZP.to(t.loader,{autoAlpha:0})}),100)}))}}}])&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===V(i)?i:String(i)),r)}var o,i}g.ZP.registerPlugin(x.i);var X=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={wrapper:".js-spline-export-v2",model:".js-spline-model",modelSection:".js-spline-model-section",loader:".js-spline-loader"}}var e,n,r;return e=t,n=[{key:"init",value:function(){var t=this;this.wrapper=document.querySelector(this.data.wrapper),this.wrapper&&(this.models=document.querySelectorAll(this.data.model),this.modelSections=document.querySelectorAll(this.data.modelSection),this.loader=document.querySelector(this.data.loader),this.activeModelKey=null,this.models.length<1||this.modelSections.length<1||this.models.forEach((function(e,n){var r=e.dataset.key||"7DWG9hx9aiCQfJoQ";new U.M(e).load("https://prod.spline.design/".concat(r,"/scene.splinecode")).then((function(){0===n&&setTimeout((function(){g.ZP.to(t.loader,{autoAlpha:0})}),100),t.models.length===n+1&&t.modelSections.forEach((function(e,n){var r,o,i=parseInt(e.dataset.model)-1,a=t.models[i],s=e.dataset.in||null,l=e.dataset.out||null,c=(null===(r=t.modelSections[n+1])||void 0===r?void 0:r.dataset.model)===e.dataset.model,u=(null===(o=t.modelSections[n-1])||void 0===o?void 0:o.dataset.model)===e.dataset.model;x.i.create({trigger:e,start:"top center",end:"bottom center",onEnter:function(){t.activeModelKey!==i&&(t.activeModelKey=i,t.controllerEnter(s,a))},onEnterBack:function(){c||(t.activeModelKey=i,t.controllerEnter(s,a))},onLeave:function(){c||t.controllerLeave(l,a)},onLeaveBack:function(){t.activeModelKey!==i||u||t.controllerLeave(l,a)}})}))}))})))}},{key:"controllerLeave",value:function(t,e){switch(t){case"scale-max":this.animateLeave(e,1.3);break;case"scale-min":this.animateLeave(e,0);break;case"scale-normal":case"alpha-normal":case"alpha-min":default:this.animateLeave(e,1);break;case"scale-left":this.animateLeave(e,.2,"30%","30 deg")}}},{key:"controllerEnter",value:function(t,e){switch(t){case"scale-max":this.animateEnter(e,1.3,1);break;case"scale-min":this.animateEnter(e,0,1);break;case"scale-normal":case"alpha-normal":default:this.animateEnter(e,1,1);break;case"alpha-min":this.animateEnter(e,1,0);break;case"scale-left":this.animateEnter(e,1,1,"0%","0deg")}}},{key:"animateLeave",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;t&&g.ZP.to(t,{autoAlpha:0,scale:e,duration:.7,x:n,rotate:r})}},{key:"animateEnter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;t&&g.ZP.to(t,{autoAlpha:n,scale:e,duration:.7,x:r,rotate:o})}}],n&&Y(e.prototype,n),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Q(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===$(i)?i:String(i)),r)}var o,i}g.ZP.registerPlugin(x.i);var nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={wrapper:".js-spline-export-v3",model:".js-spline-model",modelSection:".js-spline-model-section",loader:".js-spline-loader"}}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;this.wrapper=document.querySelector(this.data.wrapper),this.wrapper&&(this.models=document.querySelectorAll(this.data.model),this.modelSections=document.querySelectorAll(this.data.modelSection),this.loader=document.querySelector(this.data.loader),this.models.length<1||this.modelSections.length<1||this.models.forEach((function(e,n){var r=e.dataset.key||"7DWG9hx9aiCQfJoQ";new U.M(e).load("https://prod.spline.design/".concat(r,"/scene.splinecode")).then((function(){0===n&&setTimeout((function(){g.ZP.to(t.loader,{autoAlpha:0})}),100),t.models.length===n+1&&t.onLoad()}))})))}},{key:"onLoad",value:function(){var t=this;setTimeout((function(){var e=Q(t.models).slice(1);g.ZP.set(t.models[0],{}),g.ZP.set(e,{autoAlpha:0})}),10),this.modelSections.forEach((function(e){var n=parseInt(e.dataset.model)-1,r=t.models[n],o=JSON.parse(e.dataset.in)||null,i=JSON.parse(e.dataset.out)||null;t.animation(e,r,o,i)}))}},{key:"animation",value:function(t,e,n,r){n[1].duration=.4,n[1].ease="power0.out",r[1].duration=.4,r[1].delay=.2,r[1].ease="power0.in",e&&(g.ZP.timeline({scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:!0}}).fromTo(e,n[0],n[1]).fromTo(e,r[0],r[1]),x.i.refresh())}}])&&et(e.prototype,n),r&&et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),rt=n(79),ot=n(187);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==it(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===it(i)?i:String(i)),r)}var o,i}var st,lt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.DOM={container:".js-marching-orb"},this.container=document.querySelector(this.DOM.container),this.stats=null,this.camera=null,this.scene=null,this.renderer=null,this.numOfBalls=10,this.light=null,this.pointLight=null,this.ambientLight=null,this.effect=null,this.resolution=null,this.effectController=null,this.time=0,this.clock=new a.SUY,null!==this.container&&(this.init(),this.animate())}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.camera=new a.cPb(45,window.innerWidth/window.innerHeight,1,50),this.camera.position.set(0,0,25),this.scene=new a.xsS,this.scene.background=new a.Ilk(328965),this.light=new a.Ox3(16777215,3),this.light.position.set(.5,.5,1),this.scene.add(this.light),this.pointLight=new a.cek(16743424,3,0,0),this.pointLight.position.set(0,0,100),this.scene.add(this.pointLight),this.ambientLight=new a.Mig(3289650,3),this.scene.add(this.ambientLight);var t=new a.EJi({roughness:.1,transmission:1,color:16777215,thickness:.5,reflectivity:.5}),e=new a.xoR({color:2792629}),n=new a.DvJ(5,5,5);this.newcube=new a.Kj0(n,e),this.scene.add(this.newcube),this.newcube.position.z=-10,this.newcube.position.x=0,this.resolution=28,this.effect=new ot.De(this.resolution,t,!0,!0,1e5),this.effect.position.set(0,0,0),this.effect.scale.set(7,7,7),this.effect.enableUvs=!1,this.effect.enableColors=!1,this.scene.add(this.effect),this.effect,this.renderer=new a.CP7,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement);var r=new s.z(this.camera,this.renderer.domElement);r.minDistance=1,r.maxDistance=25,this.stats=new rt.Z,this.container.appendChild(this.stats.dom),this.setupGui(),window.addEventListener("resize",this.onWindowResize)}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}},{key:"setupGui",value:function(){var t;this.effectController={speed:1,resolution:50,isolation:10,difference:1.7},(t=(new h.XS).addFolder("Simulation")).add(this.effectController,"speed",.1,8,.05),t.add(this.effectController,"resolution",14,100,1),t.add(this.effectController,"isolation",10,300,1),t.add(this.effectController,"difference",0,10,.1)}},{key:"updateCubes",value:function(t,e){t.reset();for(var n=1.2/((Math.sqrt(3)-1)/4+1),r=0;r<this.numOfBalls;r++){var o=Math.sin(r+1.26*e*(1.03+.5*Math.cos(.21*r)))*(.1*this.effectController.difference)+.5,i=Math.abs(Math.cos(r+1.12*e*Math.cos(1.22+.1424*r)))*(this.effectController.difference/2*.1)+.5,a=Math.cos(r+1.32*e*.1*Math.sin(.92+.53*r))*(.1*this.effectController.difference)+.5;t.addBall(o,i,a,n,12)}t.update()}},{key:"animate",value:function(){var t=this;requestAnimationFrame((function(){return t.animate()})),this.render(),this.stats.update()}},{key:"render",value:function(){var t=this.clock.getDelta();this.time+=t*this.effectController.speed*.5,this.effectController.resolution!==this.resolution&&(this.resolution=this.effectController.resolution,this.effect.init(Math.floor(this.resolution))),this.effectController.isolation!==this.effect.isolation&&(this.effect.isolation=this.effectController.isolation),this.updateCubes(this.effect,this.time),this.newcube&&(this.newcube.rotation.x+=.01,this.newcube.rotation.z+=.005,this.newcube.rotation.y+=.005),this.renderer.render(this.scene,this.camera)}}])&&at(e.prototype,n),r&&at(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();st=function(){"function"==typeof i&&(new i).init();var t=["background-color: #000000","color: white","display: block","line-height: 24px","text-align: center","border: 1px solid #ffffff","font-weight: bold"].join(";");console.info("dev by: %c Bornfight Studio ",t),(new m).init(),(new w).init(),(new M).init(),new N,new Z,(new K).init(),(new X).init(),(new nt).init(),new lt},"loading"!==document.readyState?st():document.addEventListener?document.addEventListener("DOMContentLoaded",st):document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&st()}))}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.m=e,t=[],r.O=function(e,n,o,i){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],i=t[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.e=function(){return Promise.resolve()},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={296:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,a=n[0],s=n[1],l=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var u=l(r)}for(e&&e(n);c<a.length;c++)i=a[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},n=self.webpackChunkthreejs_playground=self.webpackChunkthreejs_playground||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o=r.O(void 0,[736],(function(){return r(375)}));o=r.O(o)}();